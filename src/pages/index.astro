---
import { getCollection } from 'astro:content';
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import CallbackForm from '../components/CallbackForm.astro';
import TariffCalculator from '../components/TariffCalculator.astro';
import NewsCard from '../components/NewsCard.astro';
import 'swiper/css';
import 'swiper/css/navigation';
import 'swiper/css/pagination';

const allNews = await getCollection('news');
const latestNews = allNews
	.sort((a, b) => b.data.pubDate.getTime() - a.data.pubDate.getTime())
	.slice(0, 6);
---

<BaseLayout title="–ì–ª–∞–≤–Ω–∞—è - ISP Provider">
	<Header />
	
	<main>
		<!-- Hero Section -->
		<section class="bg-gradient-to-br from-[#1a1a2e] to-[#16213e] text-white py-24 text-center">
			<div class="container mx-auto px-4 md:px-8 max-w-7xl">
				<div class="max-w-3xl mx-auto">
					<h1 class="text-5xl md:text-6xl font-bold mb-4">–ë—ã—Å—Ç—Ä—ã–π –∏ –Ω–∞–¥–µ–∂–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç</h1>
					<p class="text-2xl md:text-3xl mb-8 opacity-90">–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –ª—É—á—à–µ–º—É –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø—Ä–æ–≤–∞–π–¥–µ—Ä—É –≤ –≤–∞—à–µ–º –≥–æ—Ä–æ–¥–µ</p>
					<div class="flex gap-4 justify-center flex-wrap">
						<a href="/tariffs" class="px-10 py-4 rounded-md text-lg transition-all bg-[#4a9eff] text-white hover:bg-[#357abd] no-underline">–í—ã–±—Ä–∞—Ç—å —Ç–∞—Ä–∏—Ñ</a>
						<a href="/coverage" class="px-10 py-4 rounded-md text-lg transition-all bg-transparent text-white border-2 border-white hover:bg-white hover:text-[#1a1a2e] no-underline">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ</a>
					</div>
				</div>
			</div>
		</section>

		<!-- Features Section -->
		<section class="py-16 md:py-24">
			<div class="container mx-auto px-4 md:px-8 max-w-7xl">
				<h2 class="text-4xl md:text-5xl mb-4 text-[#1a1a2e] dark:text-white text-center">–ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç –Ω–∞—Å</h2>
				<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mt-12">
					<div class="text-center p-8 bg-white dark:bg-gray-800 rounded-lg shadow-md">
						<div class="text-5xl mb-4">‚ö°</div>
						<h3 class="mb-4 text-[#1a1a2e] dark:text-white">–í—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å</h3>
						<p class="text-gray-600 dark:text-gray-300">–î–æ 1000 –ú–±–∏—Ç/—Å –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∏ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π</p>
					</div>
					<div class="text-center p-8 bg-white dark:bg-gray-800 rounded-lg shadow-md">
						<div class="text-5xl mb-4">üõ°Ô∏è</div>
						<h3 class="mb-4 text-[#1a1a2e] dark:text-white">–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å</h3>
						<p class="text-gray-600 dark:text-gray-300">–°—Ç–∞–±–∏–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ 24/7 —Å –≥–∞—Ä–∞–Ω—Ç–∏–µ–π –∫–∞—á–µ—Å—Ç–≤–∞</p>
					</div>
					<div class="text-center p-8 bg-white dark:bg-gray-800 rounded-lg shadow-md">
						<div class="text-5xl mb-4">üí∞</div>
						<h3 class="mb-4 text-[#1a1a2e] dark:text-white">–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ü–µ–Ω—ã</h3>
						<p class="text-gray-600 dark:text-gray-300">–õ—É—á—à–µ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ü–µ–Ω–∞/–∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞ —Ä—ã–Ω–∫–µ</p>
					</div>
					<div class="text-center p-8 bg-white dark:bg-gray-800 rounded-lg shadow-md">
						<div class="text-5xl mb-4">üìû</div>
						<h3 class="mb-4 text-[#1a1a2e] dark:text-white">–ü–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7</h3>
						<p class="text-gray-600 dark:text-gray-300">–ö—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</p>
					</div>
				</div>
			</div>
		</section>

		<!-- Tariff Calculator Section -->
		<section class="py-16 md:py-24 bg-white dark:bg-gray-800">
			<div class="container mx-auto px-4 md:px-8 max-w-7xl">
				<TariffCalculator />
			</div>
		</section>

		<!-- News Section -->
		<section class="py-16 md:py-24">
			<div class="container mx-auto px-4 md:px-8 max-w-7xl">
				<h2 class="text-4xl md:text-5xl mb-4 text-[#1a1a2e] dark:text-white text-center">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏</h2>
				<div class="swiper news-swiper mt-12 pb-12">
					<div class="swiper-wrapper">
						{latestNews.map((entry) => (
							<div class="swiper-slide">
								<NewsCard entry={entry} />
							</div>
						))}
					</div>
					<div class="swiper-pagination"></div>
					<div class="swiper-button-prev"></div>
					<div class="swiper-button-next"></div>
				</div>
				<div class="text-center mt-8">
					<a href="/news" class="px-8 py-3 rounded-md text-base transition-all bg-[#4a9eff] text-white hover:bg-[#357abd] no-underline inline-block">–í—Å–µ –Ω–æ–≤–æ—Å—Ç–∏</a>
				</div>
			</div>
		</section>

		<!-- Callback Section -->
		<section class="py-16 md:py-24 bg-white dark:bg-gray-800">
			<div class="container mx-auto px-4 md:px-8 max-w-7xl">
				<div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
					<div>
						<h2 class="text-4xl mb-4 text-[#1a1a2e] dark:text-white">–ù—É–∂–Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è?</h2>
						<p class="text-lg text-gray-600 dark:text-gray-300 leading-relaxed">–û—Å—Ç–∞–≤—å—Ç–µ –∑–∞—è–≤–∫—É –Ω–∞ –æ–±—Ä–∞—Ç–Ω—ã–π –∑–≤–æ–Ω–æ–∫, –∏ –Ω–∞—à —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 15 –º–∏–Ω—É—Ç</p>
					</div>
					<div>
						<CallbackForm />
					</div>
				</div>
			</div>
		</section>
	</main>

	<Footer />
</BaseLayout>

<script>
	import Swiper from 'swiper';
	import { Navigation, Pagination, Autoplay } from 'swiper/modules';

	function initSwiper() {
		const swiperEl = document.querySelector('.news-swiper');
		if (swiperEl && !swiperEl.swiper) {
			new Swiper('.news-swiper', {
				modules: [Navigation, Pagination, Autoplay],
				slidesPerView: 1,
				spaceBetween: 20,
				autoplay: {
					delay: 5000,
					disableOnInteraction: false,
				},
				pagination: {
					el: '.swiper-pagination',
					clickable: true,
				},
				navigation: {
					nextEl: '.swiper-button-next',
					prevEl: '.swiper-button-prev',
				},
				breakpoints: {
					640: {
						slidesPerView: 2,
						spaceBetween: 20,
					},
					1024: {
						slidesPerView: 3,
						spaceBetween: 30,
					},
				},
			});
		}
	}

	if (document.readyState === 'loading') {
		document.addEventListener('DOMContentLoaded', initSwiper);
	} else {
		initSwiper();
	}
</script>

<style>
	.news-swiper {
		padding-bottom: 3rem;
	}

	.news-swiper :global(.swiper-pagination-bullet) {
		background: #4a9eff;
		opacity: 0.5;
	}

	.news-swiper :global(.swiper-pagination-bullet-active) {
		opacity: 1;
		background: #4a9eff;
	}

	.news-swiper :global(.swiper-button-next),
	.news-swiper :global(.swiper-button-prev) {
		color: #4a9eff;
	}

	:global(.dark) .news-swiper :global(.swiper-button-next),
	:global(.dark) .news-swiper :global(.swiper-button-prev) {
		color: #4a9eff;
	}

	.news-swiper :global(.swiper-button-next:after),
	.news-swiper :global(.swiper-button-prev:after) {
		font-size: 1.5rem;
		font-weight: bold;
	}

	.news-swiper :global(.swiper-slide) {
		height: auto;
	}
</style>
