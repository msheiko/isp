---
import { getCollection } from 'astro:content';
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import CallbackForm from '../components/CallbackForm.astro';
import TariffCalculator from '../components/TariffCalculator.astro';
import NewsCard from '../components/NewsCard.astro';

const allNews = await getCollection('news');
const latestNews = allNews
	.sort((a, b) => b.data.pubDate.getTime() - a.data.pubDate.getTime())
	.slice(0, 3);
---

<BaseLayout title="–ì–ª–∞–≤–Ω–∞—è - ISP Provider">
	<Header />
	
	<main>
		<!-- Hero Section -->
		<section class="hero">
			<div class="container">
				<div class="hero__content">
					<h1 class="hero__title">–ë—ã—Å—Ç—Ä—ã–π –∏ –Ω–∞–¥–µ–∂–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç</h1>
					<p class="hero__subtitle">–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –ª—É—á—à–µ–º—É –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–ø—Ä–æ–≤–∞–π–¥–µ—Ä—É –≤ –≤–∞—à–µ–º –≥–æ—Ä–æ–¥–µ</p>
					<div class="hero__buttons">
						<a href="/tariffs" class="btn btn-primary btn-large">–í—ã–±—Ä–∞—Ç—å —Ç–∞—Ä–∏—Ñ</a>
						<a href="/coverage" class="btn btn-outline btn-large">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ</a>
					</div>
				</div>
			</div>
		</section>

		<!-- Features Section -->
		<section class="section">
			<div class="container">
				<h2 class="section-title">–ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç –Ω–∞—Å</h2>
				<div class="features">
					<div class="feature">
						<div class="feature__icon">‚ö°</div>
						<h3>–í—ã—Å–æ–∫–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å</h3>
						<p>–î–æ 1000 –ú–±–∏—Ç/—Å –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∏ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π</p>
					</div>
					<div class="feature">
						<div class="feature__icon">üõ°Ô∏è</div>
						<h3>–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å</h3>
						<p>–°—Ç–∞–±–∏–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ 24/7 —Å –≥–∞—Ä–∞–Ω—Ç–∏–µ–π –∫–∞—á–µ—Å—Ç–≤–∞</p>
					</div>
					<div class="feature">
						<div class="feature__icon">üí∞</div>
						<h3>–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ü–µ–Ω—ã</h3>
						<p>–õ—É—á—à–µ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ü–µ–Ω–∞/–∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞ —Ä—ã–Ω–∫–µ</p>
					</div>
					<div class="feature">
						<div class="feature__icon">üìû</div>
						<h3>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7</h3>
						<p>–ö—Ä—É–≥–ª–æ—Å—É—Ç–æ—á–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</p>
					</div>
				</div>
			</div>
		</section>

		<!-- Tariff Calculator Section -->
		<section class="section section-alt">
			<div class="container">
				<TariffCalculator />
			</div>
		</section>

		<!-- News Section -->
		<section class="section">
			<div class="container">
				<h2 class="section-title">–ü–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏</h2>
				<div class="news-grid">
					{latestNews.map((entry) => (
						<NewsCard entry={entry} />
					))}
				</div>
				<div class="text-center" style="margin-top: 2rem;">
					<a href="/news" class="btn btn-primary">–í—Å–µ –Ω–æ–≤–æ—Å—Ç–∏</a>
				</div>
			</div>
		</section>

		<!-- Callback Section -->
		<section class="section section-alt">
			<div class="container">
				<div class="callback-section">
					<div class="callback-section__content">
						<h2>–ù—É–∂–Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è?</h2>
						<p>–û—Å—Ç–∞–≤—å—Ç–µ –∑–∞—è–≤–∫—É –Ω–∞ –æ–±—Ä–∞—Ç–Ω—ã–π –∑–≤–æ–Ω–æ–∫, –∏ –Ω–∞—à —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 15 –º–∏–Ω—É—Ç</p>
					</div>
					<div class="callback-section__form">
						<CallbackForm />
					</div>
				</div>
			</div>
		</section>
	</main>

	<Footer />
</BaseLayout>

<style>
	.hero {
		background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
		color: white;
		padding: 6rem 0;
		text-align: center;
	}

	.hero__content {
		max-width: 800px;
		margin: 0 auto;
	}

	.hero__title {
		font-size: 3rem;
		margin-bottom: 1rem;
		font-weight: bold;
	}

	.hero__subtitle {
		font-size: 1.5rem;
		margin-bottom: 2rem;
		opacity: 0.9;
	}

	.hero__buttons {
		display: flex;
		gap: 1rem;
		justify-content: center;
		flex-wrap: wrap;
	}

	.btn {
		padding: 0.75rem 2rem;
		border-radius: 5px;
		text-decoration: none;
		font-size: 1rem;
		transition: all 0.3s;
		display: inline-block;
		cursor: pointer;
		border: 2px solid transparent;
	}

	.btn-primary {
		background: var(--primary-color);
		color: white;
	}

	.btn-primary:hover {
		background: var(--primary-dark);
	}

	.btn-outline {
		background: transparent;
		color: white;
		border-color: white;
	}

	.btn-outline:hover {
		background: white;
		color: #1a1a2e;
	}

	.btn-large {
		padding: 1rem 2.5rem;
		font-size: 1.1rem;
	}

	.features {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
		gap: 2rem;
		margin-top: 3rem;
	}

	.feature {
		text-align: center;
		padding: 2rem;
		background: white;
		border-radius: 10px;
		box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
	}

	.feature__icon {
		font-size: 3rem;
		margin-bottom: 1rem;
	}

	.feature h3 {
		margin-bottom: 1rem;
		color: #1a1a2e;
	}

	.feature p {
		color: var(--text-light);
	}

	.section-alt {
		background: white;
	}

	.news-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
		gap: 2rem;
	}

	.callback-section {
		display: grid;
		grid-template-columns: 1fr 1fr;
		gap: 3rem;
		align-items: center;
	}

	.callback-section__content h2 {
		font-size: 2rem;
		margin-bottom: 1rem;
		color: #1a1a2e;
	}

	.callback-section__content p {
		font-size: 1.1rem;
		color: var(--text-light);
		line-height: 1.8;
	}

	.text-center {
		text-align: center;
	}

	@media (max-width: 968px) {
		.callback-section {
			grid-template-columns: 1fr;
		}
	}

	@media (max-width: 768px) {
		.hero {
			padding: 4rem 0;
		}

		.hero__title {
			font-size: 2rem;
		}

		.hero__subtitle {
			font-size: 1.2rem;
		}

		.features {
			grid-template-columns: 1fr;
		}

		.news-grid {
			grid-template-columns: 1fr;
		}
	}
</style>
