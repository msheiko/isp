---
---

<div class="coverage-map">
	<h2>Карта покрытия</h2>
	<div class="map-container" x-data="{ 
		selectedArea: null,
		areas: [
			{ id: 1, name: 'Центральный район', coverage: 95, color: '#4a9eff' },
			{ id: 2, name: 'Северный район', coverage: 80, color: '#5cb85c' },
			{ id: 3, name: 'Южный район', coverage: 70, color: '#f0ad4e' },
			{ id: 4, name: 'Восточный район', coverage: 60, color: '#d9534f' },
			{ id: 5, name: 'Западный район', coverage: 85, color: '#5bc0de' }
		],
		selectArea(area) {
			this.selectedArea = area;
		}
	}">
		<div class="map-legend">
			<h3>Легенда покрытия</h3>
			<div class="legend-items">
				<template x-for="area in areas" :key="area.id">
					<div 
						class="legend-item"
						@click="selectArea(area)"
						:class="{ 'active': selectedArea && selectedArea.id === area.id }"
					>
						<span class="legend-color" :style="`background: ${area.color}`"></span>
						<span x-text="area.name"></span>
						<span class="legend-coverage" x-text="`${area.coverage}%`"></span>
					</div>
				</template>
			</div>
		</div>
		<div class="map-visual">
			<div class="map-grid">
				<template x-for="area in areas" :key="area.id">
					<div 
						class="map-area"
						:style="`background: ${area.color}; opacity: ${area.coverage / 100}`"
						@click="selectArea(area)"
						:class="{ 'selected': selectedArea && selectedArea.id === area.id }"
					>
						<div class="area-label" x-text="area.name"></div>
						<div class="area-coverage" x-text="`${area.coverage}%`"></div>
					</div>
				</template>
			</div>
		</div>
		<div x-show="selectedArea" class="area-info">
			<h3 x-text="selectedArea?.name"></h3>
			<p>Покрытие: <strong x-text="`${selectedArea?.coverage}%`"></strong></p>
			<p>Статус: <strong>Доступно</strong></p>
			<button class="btn btn-primary">Подключить</button>
		</div>
	</div>
</div>

<style>
	.coverage-map {
		background: white;
		padding: 2rem;
		border-radius: 10px;
		box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
	}

	.coverage-map h2 {
		margin-top: 0;
		margin-bottom: 2rem;
		color: #1a1a2e;
	}

	.map-container {
		display: grid;
		grid-template-columns: 300px 1fr;
		gap: 2rem;
	}

	.map-legend h3 {
		margin-bottom: 1rem;
		color: #333;
	}

	.legend-items {
		display: flex;
		flex-direction: column;
		gap: 0.5rem;
	}

	.legend-item {
		display: flex;
		align-items: center;
		gap: 0.75rem;
		padding: 0.75rem;
		border: 2px solid #e0e0e0;
		border-radius: 5px;
		cursor: pointer;
		transition: all 0.3s;
	}

	.legend-item:hover,
	.legend-item.active {
		border-color: #4a9eff;
		background: #f0f7ff;
	}

	.legend-color {
		width: 20px;
		height: 20px;
		border-radius: 3px;
	}

	.legend-coverage {
		margin-left: auto;
		font-weight: bold;
		color: #4a9eff;
	}

	.map-visual {
		background: #f8f9fa;
		border-radius: 8px;
		padding: 1rem;
		min-height: 400px;
	}

	.map-grid {
		display: grid;
		grid-template-columns: repeat(3, 1fr);
		grid-template-rows: repeat(2, 1fr);
		gap: 1rem;
		height: 100%;
	}

	.map-area {
		border-radius: 8px;
		padding: 1rem;
		cursor: pointer;
		transition: all 0.3s;
		display: flex;
		flex-direction: column;
		justify-content: center;
		align-items: center;
		color: white;
		text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
		position: relative;
	}

	.map-area:hover {
		transform: scale(1.05);
		box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
	}

	.map-area.selected {
		border: 3px solid #1a1a2e;
		box-shadow: 0 0 0 3px rgba(74, 158, 255, 0.3);
	}

	.area-label {
		font-weight: bold;
		font-size: 1.1rem;
		margin-bottom: 0.5rem;
	}

	.area-coverage {
		font-size: 1.5rem;
		font-weight: bold;
	}

	.area-info {
		grid-column: 1 / -1;
		background: #f8f9fa;
		padding: 1.5rem;
		border-radius: 8px;
		margin-top: 1rem;
	}

	.area-info h3 {
		margin-top: 0;
		color: #1a1a2e;
	}

	.area-info p {
		margin: 0.5rem 0;
		color: #666;
	}

	.btn {
		padding: 0.75rem 2rem;
		border: none;
		border-radius: 5px;
		font-size: 1rem;
		cursor: pointer;
		transition: all 0.3s;
		margin-top: 1rem;
	}

	.btn-primary {
		background: #4a9eff;
		color: white;
	}

	.btn-primary:hover {
		background: #357abd;
	}

	@media (max-width: 968px) {
		.map-container {
			grid-template-columns: 1fr;
		}

		.map-grid {
			grid-template-columns: repeat(2, 1fr);
		}
	}

	@media (max-width: 768px) {
		.coverage-map {
			padding: 1.5rem;
		}

		.map-grid {
			grid-template-columns: 1fr;
			grid-template-rows: repeat(5, 150px);
		}
	}
</style>

