---
import type { CollectionEntry } from 'astro:content';

interface Props {
	entry: CollectionEntry<'news'>;
}

const { entry } = Astro.props;
const { title, description, pubDate, image } = entry.data;
const formattedDate = new Intl.DateTimeFormat('ru-RU', {
	year: 'numeric',
	month: 'long',
	day: 'numeric'
}).format(pubDate);
---

<article class="bg-white dark:bg-gray-800 rounded-lg overflow-hidden shadow-md transition-all hover:-translate-y-1 hover:shadow-lg">
	<div class="w-full h-48 overflow-hidden bg-gray-200 dark:bg-gray-700">
		{image ? (
			<img src={image} alt={title} class="w-full h-full object-cover" />
		) : (
			<div class="w-full h-full flex items-center justify-center bg-gradient-to-br from-[#4a9eff] to-[#357abd]">
				<span class="text-white text-2xl font-bold opacity-80">Новости</span>
			</div>
		)}
	</div>
	<div class="p-6">
		<div class="text-gray-600 dark:text-gray-400 text-sm mb-2">{formattedDate}</div>
		<h3 class="m-0 mb-4 text-[#1a1a2e] dark:text-white text-xl">{title}</h3>
		<p class="text-gray-600 dark:text-gray-300 leading-relaxed mb-4">{description}</p>
		<a href={`/news/${entry.slug}`} class="text-[#4a9eff] no-underline font-medium transition-colors hover:text-[#357abd]">Читать далее →</a>
	</div>
</article>
